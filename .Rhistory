node [shape = circle,
style = filled,
color = grey,
width = 0.9
]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot, overlap = true, fontsize = 10]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
color = blue,
type = box,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot, overlap = true, fontsize = 10]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot, overlap = true, fontsize = 8]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot, overlap = true]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 8,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot, overlap = true]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {trend1 sazonal1}
sanduiche -> {trend2 sazonal2}
milkShake -> {trend3 sazonal3}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {tendencia_b sazonalidade_b}
sanduiche -> {tendencia_s sazonalidade_s}
milkShake -> {tendencia_m sazonalidade_m}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
style = filled,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph dot {
graph [layout = dot]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_a sazonal_a random_a}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento adicional
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento adicional}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_ac sazonal_ac random_ac}
adicional -> {tendencia_aa sazonal_aa random_aa}
}")
library(DiagrammeR)
grViz("
digraph neato {
graph [layout = neato]
# Initialization of node attributes
node [shape = circle,
fontname = Helvetica,
fontsize = 5,
type = circle,
fixedsize = true]
node [fillcolor = purple, color = purple]
venda
node [fillcolor = green, color = green]
bebida sanduiche milkShake acompanhamento adicional
node [fillcolor = orange, color = orange]
edge [color = grey]
venda -> {bebida sanduiche milkShake acompanhamento adicional}
bebida -> {tendencia_b sazonal_b random_b}
sanduiche -> {tendencia_s sazonal_s random_s}
milkShake -> {tendencia_m sazonal_m random_m}
acompanhamento -> {tendencia_ac sazonal_ac random_ac}
adicional -> {tendencia_aa sazonal_aa random_aa}
}")
source("https://bioconductor.org/biocLite.R")
biocLite("BiocStyle")
adf.test(serieTemporal)
library('forecast')
library('plotly')
library('MLmetrics')
adf.test(serieTemporal)
library('forecast')
library('plotly')
library('tseries')
library('MLmetrics')
adf.test(serieTemporal)
library('forecast')
library('plotly')
library('tseries')
library('MLmetrics')
df = read.table('data/data-sales.csv', header=TRUE, sep=";")
df_train = df[1:84,]
df_test = df[85:90,]
serieTemporal <- ts(df_train['grupoSanduiche'], start=c(2010, 1), end=c(2016, 12), frequency=12)
head(df_train)
adf.test(serieTemporal)
fitArima <- auto.arima(serieTemporal)
fitArima
ts_forecast <- forecast(fitArima, 6)
ts_forecast$mean
mape <- MAPE(ts_forecast$mean, df_test$grupoBebida)
mape * 100
p <- plot_ly() %>%
add_lines(x = time(serieTemporal), y = serieTemporal,
color = I("purple"), name = "Observado",  fill = "tonexty") %>%
add_ribbons(x = time(ts_forecast$mean), ymin = ts_forecast$lower[, 2], ymax = ts_forecast$upper[, 2],
color = I("gray95"), name = "95% confiança") %>%
add_ribbons(x = time(ts_forecast$mean), ymin = ts_forecast$lower[, 1], ymax = ts_forecast$upper[, 1],
color = I("gray80"), name = "80% confiança") %>%
add_lines(x = time(ts_forecast$mean), y = ts_forecast$mean, color = I("blue"), name = "Previsto")
ggplotly(p)
p1 <- plot_ly() %>%
add_lines(x = c(1:6), y = df_test$grupoBebida,
color = I("purple"), name = "Observado") %>%
add_lines(x = c(1:6), y = ts_forecast$mean, color = I("blue"), name = "Previsto")
ggplotly(p1)
